<div class="container mt-4">
  <div class="row">
    <% if @model == 'post' %>
      <div class="col-md-10 mb-4">
      <h3 class="mb-4">投稿の検索内容 "<%= @content %>"</h3>
        <% if @records.empty? %>
          <p>検索に対応するものがありません</p>
        <% else %>
          <% @records.each do |post| %>
            <div class="card">
              <div class="card-body">
                <div class="row">
                  <div class="col-md-3">
                    <% if post.images.attached? %>
                      <%= image_tag post.images[0], size: '200x200', class: 'img-fluid card-img-top' %>
                    <% else %>
                      <%= image_tag 'no_image.jpg', size: '200x200', class: 'img-fluid card-img-top' %>
                    <% end %>
                  </div>
                  <div class="col-md-9">
                    <table class="table table-bordered mb-3">
                      <thead>
                        <tr class="table-active">
                          <th scope="col" style="width: 30%">商品名</th>
                          <th scope="col" style="width: 70%">商品説明</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td><%= post.name %></td>
                          <td><%= link_to post.introduction.truncate(15, omission: "...続きを読む"), post_path(post.id) %></td>
                        </tr>
                      </tbody>
                    </table>
                    <table class="table table-bordered">
                      <thead>
                        <tr class="table-active">
                          <th scope="col" style="width: 33%">都道府県</th>
                          <th scope="col" style="width: 33%">市町村</th>
                          <th scope="col" style="width: 33%">ユーザー</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td><%= link_to post.genre.name, genre_path(post.genre.id) %></td>
                          <td><%= post.category %></td>
                          <td><%= link_to post.user.nick_name, user_path(post.user_id) %></td>
                        </tr>
                      </tbody>
                    </table>
                    <div class=" row col">
                      <div class="col"><%= link_to "詳細を見る", post_path(post.id) %></div>
                      <div class="offset-5">コメント件数： <%= post.post_comments.count %></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      <div class="mt-4">
        <%= paginate @records %>
      </div>
    <% end %>
    <% elsif @model == 'user' %>
      <div class="col-md-10">
        <h3 class="mb-4">ユーザーの検索結果: "<%= @content %>"</h3>
        <% if @records.empty? %>
          <p>検索に対応するものがありません</p>
        <% else %>
          <div class="row">
            <% @records.each do |user| %>
              <div class="col-md-6 mb-4">
                <div class="card">
                  <div class="card-body text-center">
                    <%= link_to user_path(user), class: 'stretched-link' do %>
                      <h5 class="card-title"><%= user.nick_name %></h5>
                      <p class="card-text">クリックして詳細を見る</p>
                    <% end %>
                    <p class="mt-3">投稿件数 : <%= user.posts.count %></p>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
      <div class="mt-4">
        <%= paginate @records %>
      </div>
    <% end %>
    <%= render 'public/genres/genre_lists' %>
  </div>
</div>

